{"version":2,"name":"RP Tools - DN","disableSend":false,"placeBeforeInput":false,"injectInput":false,"color":"rgba(0, 0, 0, 0)","onlyBorderColor":false,"qrList":[{"id":13,"showLabel":false,"label":"DN - Role","title":"","message":"/buttons labels=[\"user\",\"assistant\",\"system\"] Set the Instruct role for Director's Note |\n\n/setvar key=dn_role {{pipe}} |\n\n/if left=\"{{getvar::dn_content}}\" right=\"\" rule=neq {:\n\t\t/inject id=dn_inject position=chat depth={{getvar::dn_depth}} scan=true role={{getvar::dn_role}} {{getvar::dn_content}} |\n:} |","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"automationId":""},{"id":9,"showLabel":false,"label":"DN - Depth","title":"","message":"/input default={{getvar::dn_depth}} Set the Director's Note depth |\n\n/setvar key=dn_new_depth {{pipe}} |\n\n/if left={{getvar::dn_new_depth}} right=-1 rule=gt else={:\n\t/flushvar dn_new_depth |\n\t/abort quiet=false Not a number! |\n:}\n{:\n\t/if left=\"{{getvar::dn_role}}\" right=\"\" rule=neq\n\t\telse={: /setvar key=dn_cur_role system | :}\n\t\t     {: /setvar key=dn_cur_role {{getvar::dn_role}} | :} |\n\t\n\t/setvar key=dn_depth {{getvar::dn_new_depth}} |\n\t\n\t/if left=\"{{getvar::dn_content}}\" right=\"\" rule=neq {:\n\t\t/inject id=dn_inject\n\t\t\t\tposition=chat\n\t\t\t\tdepth={{getvar::dn_depth}}\n\t\t\t\tscan=true\n\t\t\t\trole={{getvar::dn_cur_role}} {{getvar::dn_content}} |\n\t:} |\n:} |\n\n/flushvar dn_new_depth |\n/flushvar dn_cur_role |","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"automationId":""},{"id":3,"showLabel":false,"label":"DN - Remove","title":"","message":"/flushinject dn_inject |\n/flushvar dn_content |","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"automationId":""},{"id":1,"showLabel":false,"label":"DN - Add/Edit","title":"","message":"/input default=\"{{getvar::dn_content}}\" Write A Director's Note |\n\n/if left={{pipe}} rule=eq right=\"\"\n\telse={: /pass {{pipe}} :}\n\t\t {: /abort | :} |\n\n/setvar key=dn_new_content {{pipe}} |\n\n/if left=\"{{getvar::dn_role}}\" right=\"\" rule=neq\n\telse={: /setvar key=dn_cur_role system :}\n\t\t {: /setvar key=dn_cur_role {{getvar::dn_role}} :} |\n\n/if left=dn_new_content right=dn_content rule=neq {:\n\t/if left=\"{{getvar::dn_depth}}\" right=\"\" rule=neq else={:\n\n\t\t/setvar key=dn_content {{getvar::dn_new_content}} |\n\n\t\t/inject id=dn_inject\n\t\t\t\tposition=chat\n\t\t\t\tdepth=1\n\t\t\t\tscan=true\n\t\t\t\trole={{getvar::dn_cur_role}} {{getvar::dn_content}} |\n\t:}\n\t{:\n\t\t/setvar key=dn_content {{getvar::dn_new_content}} |\n\n\t\t/inject id=dn_inject\n\t\t\t\tposition=chat\n\t\t\t\tdepth={{getvar::dn_depth}}\n\t\t\t\tscan=true\n\t\t\t\trole={{getvar::dn_cur_role}} {{getvar::dn_content}} |\n\t:} |\n:} |\n\n/flushvar dn_cur_role |\n/flushvar dn_new_content |","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"automationId":""}],"idIndex":14}